import{u as b,A as T,a0 as x,l as S,D,E as V,o as l,j as a,w as u,h as t,J as F,v as E,F as c,k as d,K as H,G as p,f as R,x as g,m as B,t as i,z as C}from"./index-c0797ffd.js";import{_ as P}from"./ResumePreviewModal-6d3d5c25.js";import{r as I}from"./bootstrap-vue-next-57b53e13.js";import{f as M}from"./dateFormats-ed53e278.js";const N={components:{ResumePreviewModal:P},data(){return{toast:b(),commonFunctions:T(),formatDate:M,profileStatus:x,isLoading:!1,isModalLoading:!1,hrProfileEdit:!1,modalId:"",searchText:"",status_id:null,hrProfilePreviewData:null,hrProfileList:[],totalRows:1,currentPage:1,perPage:10,dialogParam:{id:null}}},computed:{pageStart(){return(this.currentPage-1)*this.perPage}},watch:{currentPage(){this.getHrProfileList()}},mounted(){this.getHrProfileList()},methods:{async getHrProfileList(){try{const r={searchText:this.searchText,status_id:this.status_id,rows:this.perPage,start:this.pageStart};this.isLoading=!0;const s=await S.get("/hrprofile/list",{params:r});this.hrProfileList=s.hrProfileList,this.totalRows=s.numFound,this.currentPage=s.numFound>this.perPage?this.currentPage:1}catch(r){this.toast.error(r.message)}finally{this.isLoading=!1}},skillsToolTip(r){let s="";return r&&r.length>0&&r.forEach((m,h)=>{h!=0&&(s+=", "),s+=m.skill}),s}}},U=t("div",{class:"content-card content-header card-gap-mb"},[t("label",null,"Talent Pool")],-1),A={class:"content-body content-card"},K={class:"row filter-group py-2"},z={class:"col-3"},j={class:"col-2"},q=t("option",{value:null},"Profile Status",-1),G=["value"],J={class:"table-responsive"},O={class:"table table-borderless custom-table-style"},Q=t("thead",{class:"table-primary"},[t("tr",null,[t("th",{scope:"col"},[t("input",{class:"form-check-input",type:"checkbox"})]),t("th",{scope:"col"},"ID"),t("th",{scope:"col"},"Profile Title"),t("th",{scope:"col"},"Resource Name"),t("th",{scope:"col"},"Email ID"),t("th",{scope:"col"},"Skills"),t("th",{scope:"col"},"Profile Status"),t("th",{scope:"col"},"Last Updated"),t("th",{scope:"col"},"Action")])],-1),W={class:"custom-tbody-style"},X=t("td",null,[t("input",{class:"form-check-input",type:"checkbox"})],-1),Y=["title"],Z={key:0},$=["onClick"],tt={key:0},et=t("td",{colspan:"12",class:"text-center"}," No record found ",-1),st=[et];function ot(r,s,m,h,o,n){const v=V("font-awesome-icon"),y=I,k=P,L=B;return l(),a(c,null,[U,u((l(),a("div",A,[t("div",K,[t("div",z,[u(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>o.searchText=e),class:"form-control",onKeyup:s[1]||(s[1]=F((...e)=>n.getHrProfileList&&n.getHrProfileList(...e),["enter"])),placeholder:"Search Profile Title, Email, Skill, Summary","aria-label":"Search"},null,544),[[E,o.searchText]])]),t("div",j,[u(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>o.status_id=e),onChange:s[3]||(s[3]=(...e)=>n.getHrProfileList&&n.getHrProfileList(...e)),class:"form-select","aria-label":"Default select example"},[q,(l(!0),a(c,null,d(o.profileStatus,e=>(l(),a("option",{key:e.id,value:e.id},i(e.status),9,G))),128))],544),[[H,o.status_id]])])]),t("div",J,[t("table",O,[Q,t("tbody",W,[(l(!0),a(c,null,d(o.hrProfileList,(e,w)=>(l(),a("tr",{key:e.id},[X,t("td",null,i(w+1),1),t("td",null,i(e.profile_title),1),t("td",null,i(e.first_name)+" "+i(e.last_name),1),t("td",null,i(e.email_id),1),t("td",null,[t("div",{class:"text-truncate table-th-width",title:n.skillsToolTip(e.skills)},[(l(!0),a(c,null,d(e.skills,(_,f)=>(l(),a("span",{key:f},[C(i(_),1),e.skills&&f<e.skills.length-1?(l(),a("span",Z,", ")):p("",!0)]))),128))],8,Y)]),t("td",null,i(o.commonFunctions.getProfileStatusById(e.status_id)),1),t("td",null,i(o.formatDate(e.last_updated_dt)),1),t("td",null,[t("div",{class:"icon-btn","data-bs-toggle":"modal","data-bs-target":"#resumePreviewModal",onClick:_=>o.hrProfilePreviewData=e},[g(v,{icon:"fa-solid fa-eye"})],8,$)])]))),128)),o.hrProfileList.length==0?(l(),a("tr",tt,st)):p("",!0)])])]),o.hrProfileList.length>0?(l(),R(y,{key:0,modelValue:o.currentPage,"onUpdate:modelValue":s[4]||(s[4]=e=>o.currentPage=e),pills:"","total-rows":o.totalRows,"per-page":o.perPage,size:"sm"},null,8,["modelValue","total-rows","per-page"])):p("",!0)])),[[L,o.isLoading]]),g(k,{hrProfile:o.hrProfilePreviewData},null,8,["hrProfile"])],64)}const nt=D(N,[["render",ot]]);export{nt as default};
