import{d as k,u as b,r,c as $,a as T,e as L,b as C,w as u,o as m,f as D,g as w,h as e,n as N,i as y,v as h,j as p,k as E,t as U,F as x,_ as V,l as M,H as F,m as P,p as R,q as B,s as H,x as q,y as z,z as j,U as I}from"./index-c0797ffd.js";const A={class:"container"},O={class:"row"},Y=e("label",{for:"email_id",class:"col-sm-4 col-form-label"},"Email ID",-1),G={class:"col-sm-8"},J=k({__name:"ForgotPasswordModal",setup(S,{expose:g}){const n=b(),d=r(null),t=r(!1);r([]);const a=r(""),f=$(()=>({email_id:{required:T,email:L}})),i=C(f,{email_id:a}),v=async()=>{try{if(i.value.email_id.$touch(),!i.value.email_id.$invalid){const s={email_id:a.value};t.value=!0;const l=await M.post("/user/forgotpassword",s);l.status==F.Ok&&n.success(l.message)}}catch(s){n.error(s.message)}finally{t.value=!1}};return g({showModal:()=>{var s;(s=d.value)==null||s.show()}}),(s,l)=>{const c=P;return u((m(),D(V,{title:"Forgot Password ?",ref_key:"forgotPasswordModal",ref:d},{body:w(()=>[e("div",A,[e("div",O,[Y,e("div",G,[u(e("input",{type:"text",class:N(["form-control",{"is-invalid":y(i).email_id.$error}]),"onUpdate:modelValue":l[0]||(l[0]=_=>a.value=_),id:"email_id",placeholder:"Enter Your Email ID"},null,2),[[h,a.value]]),(m(!0),p(x,null,E(y(i).email_id.$errors,_=>(m(),p("div",{class:"invalid-feedback",key:_.$uid},U(_.$message),1))),128))])])])]),footer:w(()=>[e("button",{class:"btn btn-primary",onClick:v},"Submit")]),_:1})),[[c,t.value]])}}}),K={class:"login-container"},Q=e("img",{src:z,alt:""},null,-1),W={class:"login-section"},X=e("h4",{class:"text-center"},"Login",-1),Z={class:"p-3"},ee={class:"container"},se={class:"row"},oe={class:"col-12"},ae={class:"form-group"},te=e("label",{for:"loginName"},"Email ID",-1),le={class:"col-12"},re={class:"form-group"},ne=e("label",{for:"loginPassword"},"Password",-1),ie=e("div",{class:"col-6"},[e("label",{class:"form-check-label",for:"defaultCheck1"},[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"defaultCheck1"}),j(" Remember Me ")])],-1),ce={class:"text-center"},ue=k({__name:"HomePage",setup(S){const g=b(),n=R(),d=r(null),t=r(!1),a=r({email_id:"",password:""});B(()=>{f()});const f=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("userId"),localStorage.removeItem("userTypeId"),localStorage.removeItem("userName"),localStorage.removeItem("tenantLogo")},i=async()=>{try{t.value=!0;const o=await M.post("/login",a.value);t.value=!1,localStorage.setItem("accessToken",o.accessToken),localStorage.setItem("userTypeId",o.userTypeId),localStorage.setItem("userName",o.userName),localStorage.setItem("tenantLogo",o.tenantLogo),o.userTypeId==I.SAD?n.push({name:"tenantmanagement"}):o.userTypeId==I.USR?n.push({name:"userhrprofile"}):n.push({name:"hrprofilemanagement"})}catch(o){t.value=!1,g.error(o.message)}},v=()=>{var o;(o=d.value)==null||o.showModal()};return(o,s)=>{const l=P;return m(),p(x,null,[e("main",K,[Q,e("div",W,[X,u((m(),p("form",Z,[e("div",ee,[e("div",se,[e("div",oe,[e("div",ae,[te,u(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=c=>a.value.email_id=c),class:"form-control",id:"loginName",placeholder:"Login Email Id"},null,512),[[h,a.value.email_id]])])]),e("div",le,[e("div",re,[ne,u(e("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=c=>a.value.password=c),class:"form-control",id:"loginPassword",placeholder:"Enter Password"},null,512),[[h,a.value.password]])])]),ie,e("div",{class:"col-6 text-end"},[e("a",{href:"#",onClick:v},"Forgot Password ?")])]),e("div",ce,[e("button",{class:"btn btn-primary",type:"submit",onClick:s[2]||(s[2]=H(c=>i(),["prevent"]))}," Login ")])])])),[[l,t.value]])])]),q(J,{ref_key:"forgotPasswordModalRef",ref:d},null,512)],64)}}});export{ue as default};
